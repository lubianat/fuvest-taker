<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FUVEST Taker</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
    <style>
        /* Custom CSS for the Timer */
        .timer-container {
            position: fixed;
            bottom: 0;
            width: 100%;
            background-color: #f8f9fa;
            box-shadow: 0px -2px 10px rgba(0, 0, 0, 0.1);
            padding: 15px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            display: none;
            /* Timer is hidden initially */
        }

        .timer-buttons {
            display: flex;
            justify-content: center;
            align-items: center;
        }

        .timer-display {
            font-size: 24px;
            font-weight: bold;
            margin-right: 20px;
        }

        .timer-buttons button {
            border-radius: 50%;
            width: 50px;
            height: 50px;
            border: none;
            margin: 0 10px;
            font-size: 20px;
            cursor: pointer;
            background-color: #007bff;
            color: white;
            transition: background-color 0.3s;
        }

        .timer-buttons button:hover {
            background-color: #0056b3;
        }
    </style>
</head>

<body>

    <!-- Navbar com controles de Timer -->
    <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <div class="container-fluid">
            <a class="navbar-brand" href="#">FUVEST Taker</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse"
                data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false"
                aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                    <!-- Other items in the navbar can be added here -->
                </ul>
                <!-- Timer toggle button aligned to the right -->
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item">
                        <button id="toggle-timer-bar" class="btn btn-secondary"
                            onclick="toggleTimerBar()">Mostrar/Ocultar Timer</button>
                    </li>
                </ul>
            </div>
        </div>
    </nav>


    <!-- Main Content -->
    <div class="container-fluid mt-4">
        <div class="row my-4">
            <div class="col-md-4 offset-md-4 text-center">
                <label for="test" class="form-label">Escolha uma prova (primeira fase):</label>
                <select id="test" class="form-select" onchange="confirmLoadTest()">
                    <option value="">--Selecione uma prova--</option>
                    <option value="fuvest2023">FUVEST 2023</option>
                    <option value="fuvest2024">FUVEST 2024</option>
                </select>
            </div>
        </div>

        <!-- Visualizador de PDF e Cartão de Respostas lado a lado -->
        <div class="row">
            <!-- Visualizador de PDF (Redimensionável, 75% da largura) -->
            <div class="col-md-9">
                <div class="border p-3">
                    <iframe id="pdf-frame" src="" width="100%" height="700px"></iframe>
                </div>
            </div>

            <!-- Cartão de Respostas (25% da largura, com rolagem independente) -->
            <div class="col-md-3">
                <div id="score-card" class="border p-3" style="height: 700px; overflow-y: auto;">
                    <h3 class="mb-3">Responda as perguntas:</h3>
                    <form id="questions-form" class="tighter-form">
                        <!-- As perguntas serão geradas dinamicamente aqui -->
                    </form>
                    <button id="calculate-score" class="btn btn-primary mt-3 w-100" onclick="calculateScore()">Calcular
                        Nota</button>
                    <button id="download-score" class="btn btn-secondary mt-3 w-100" onclick="downloadScore()">Baixar
                        Resultado</button>
                    <div id="score-output" class="mt-3"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Timer Container at the Bottom -->
    <div id="timer-bar" class="timer-container">
        <div class="timer-buttons">
            <span id="timer-display" class="timer-display">00:00:00</span>
            <button id="play-pause-btn" onclick="togglePlayPause()">
                <i id="play-pause-icon" class="fas fa-play"></i>
            </button>
            <button onclick="resetTimer()">
                <i class="fas fa-undo"></i>
            </button>
        </div>
    </div>

    <!-- Footer com o link para o GitHub -->
    <footer class="footer mt-5">
        <div class="container text-center">
            <p class="text-muted">Feito com carinho por <a href="https://github.com/lubianat"
                    target="_blank">@lubianat</a></p>
        </div>
    </footer>

    <!-- Bootstrap JS e dependências -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/js/all.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.25/jspdf.plugin.autotable.min.js"></script>

    <script src="js/script.js"></script>
</body>

</html>